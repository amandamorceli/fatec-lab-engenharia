<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h2>Formulario - Carro</h2>
    <form>
        <label for="marca">Marca: </label>
        <input type="text" id="marca">
        <label for="modelo">Modelo: </label>
        <input type="text" name="" id="modelo">
        <label for="ano">Ano: </label>
        <input type="number" id="ano">
        <label for="cor">Cor: </label>
        <input type="text" name="" id="cor">
        <label for="kilometragem">Kilometragem: </label>
        <input type="number" id="kilometragem">
        <label for="valor_fipe">Valor FIPE: </label>
        <input type="number" name="" id="valor_fipe">
        <div>
            <button onclick="exibirCalculo()">Calcular</button>
        </div>
    </form>

    <script>
        function Carros() {
            this.marca = ""
            this.modelo = ""
            this.ano = 0
            this.cor = ""
            this.kilometragem = 0
            this.valor_fipe = 0

            this.anosUtilizacao = function () {
                let data = new Date().getFullYear()
                let tempoUso = data - this.ano
                return tempoUso
            }
            this.valorMercado = function () {
                let km_ano = this.kilometragem / this.anosUtilizacao()

                if (km_ano < 30000) {
                    console.log("caso 1: km_ano")
                    return this.valor_fipe * 1.1;

                } else if (km_ano >= 30000 && km_ano <= 50000) {
                    return this.valor_fipe;

                } else if (km_ano > 50000) {
                    return this.valor_fipe * 0.9;
                }
            }
        }

        function exibirCalculo(){
            let carro = new Carros()
            carro.marca = document.getElementById("marca").value;
            carro.modelo = document.getElementById("modelo").value;
            carro.ano = parseInt(document.getElementById("ano").value)
            carro.cor = document.getElementById("cor").value
            carro.kilometragem = parseInt(document.getElementById("kilometragem").value)
            carro.valor_fipe = parseFloat(document.getElementById("valor_fipe").value)
            
            alert("Anos de utilização do veículo :" + carro.anosUtilizacao()+ "\nValor de mercado do veículo: R$" +carro.valorMercado())
        }

    </script>
</body>

</html>